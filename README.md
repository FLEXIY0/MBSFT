# MBSFT — Minecraft Beta Server For Termux

Мульти-сервер менеджер для Minecraft Beta 1.7.3 на Android через Termux. Создавай сколько угодно серверов, каждый в своей папке, и управляй ими из одного меню.

## Возможности

- **Мульти-сервер** — неограниченное кол-во серверов, каждый со своим именем, портом и настройками
- **Дашборд** — статус всех серверов в одном месте (имя, порт, RAM, запущен/остановлен, IP для подключения)
- **Автоподбор порта** — при создании нового сервера порт выбирается автоматически (25565, 25566, ...)
- **Управление** — запуск, остановка, перезапуск, консоль, настройки — всё из меню
- **Быстрое создание** — одна команда: ввёл имя → скачалось ядро → настроился → готово
- **Сервисы** — автозапуск + автосохранение каждые 10 минут через termux-services
- **SSH** — управление сервером с ПК

## Структура

```
~/mbsft-servers/
├── survival/              # сервер "survival"
│   ├── .mbsft.conf        # конфиг (RAM, порт, ядро)
│   ├── server.jar
│   ├── start.sh
│   ├── server.properties
│   └── ...
├── creative/              # сервер "creative"
│   ├── .mbsft.conf
│   ├── server.jar
│   └── ...
└── pvp-arena/             # сервер "pvp-arena"
    └── ...
```

## Требования

- Android устройство
- [Termux](https://f-droid.org/packages/com.termux/) (через F-Droid, НЕ Google Play)
- Wi-Fi (для игры по локальной сети)

## Установка

Откройте Termux и выполните:

```bash
curl -sL https://raw.githubusercontent.com/FLEXIY0/MBSFT/main/install.sh -o install.sh && bash install.sh
```

> `curl` предустановлен в Termux. Если его нет:
> ```bash
> pkg install curl
> ```

### Альтернатива через wget

```bash
pkg install wget
wget -O install.sh https://raw.githubusercontent.com/FLEXIY0/MBSFT/main/install.sh && bash install.sh
```

## Использование

### Быстрый старт

1. Запустить скрипт → пункт **1** (зависимости)
2. Пункт **3** (быстрое создание) → ввести имя, например `survival`
3. Готово. Управление через **4. Мои серверы**

### Главное меню

```
  Java: OK | Серверов: 3 | Запущено: 2

  1. Установить зависимости
  2. Создать сервер (пошагово)
  3. Быстрое создание (Poseidon + авто-настройка)

  4. Мои серверы [3 шт.]
  5. Дашборд (статус всех серверов)

  6. Настроить SSH
```

### Мои серверы

```
  #    Имя                  Порт     RAM    Статус
  --------------------------------------------------------
  1    survival             25565    1G     РАБОТАЕТ
  2    creative             25566    512M   остановлен
  3    pvp-arena            25567    2G     РАБОТАЕТ
```

Выбираешь номер → попадаешь в управление конкретным сервером:

```
  Сервер: survival  [РАБОТАЕТ]

  1. Запустить
  2. Остановить
  3. Консоль (screen)
  4. Перезапустить

  5. Настройки (RAM, порт, online-mode)
  6. Создать сервис (автозапуск + автосохранение)

  9. Удалить сервер
```

### Дашборд

```
  Java 8:  OK
  IP:      192.168.1.42
  SSH:     порт 8022

  Имя                  Порт     RAM    Статус       Подключение
  --------------------------------------------------------------------------
  survival             25565    1G     РАБОТАЕТ     192.168.1.42:25565
  creative             25566    512M   остановлен   -
  pvp-arena            25567    2G     РАБОТАЕТ     192.168.1.42:25567
```

### Подключение к серверу

1. Дашборд (пункт 5) покажет IP и порт каждого сервера
2. В Minecraft Beta 1.7.3 → Multiplayer → Direct Connect:
   ```
   192.168.1.42:25565
   ```
3. Оба устройства должны быть в одной Wi-Fi сети

### SSH (управление с ПК)

```bash
ssh -p 8022 <user>@<IP>
```

## Ядра

По умолчанию — **Project Poseidon** (Beta 1.7.3, исправления багов, поддержка плагинов).

Своё ядро: при создании сервера выбери "закину сам" и положи `server.jar` в папку сервера.

## Решение проблем

| Проблема | Решение |
|----------|---------|
| `Java not found` | Перезапусти Termux, пункт 1 |
| Сервер не стартует | `cat ~/mbsft-servers/<имя>/eula.txt` — должно быть `eula=true` |
| Не подключается | Оба устройства в одной Wi-Fi? Порт правильный? |
| Конфликт портов | Каждый сервер должен быть на своём порту (авто-подбор это решает) |
| Мало RAM | Настройки сервера → поставь `512M` |

## Лицензия

MIT
