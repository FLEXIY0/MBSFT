# MBSFT — Minecraft Beta Server For Termux

Скрипт для быстрой установки и настройки сервера Minecraft Beta 1.7.3 (Project Poseidon) на Android через Termux.

## Возможности

- Установка всех зависимостей (Java 8, screen, wget, SSH)
- Скачивание ядра Project Poseidon (Beta 1.7.3)
- Генерация скрипта запуска с настройкой RAM
- Автоматический патч настроек (online-mode=false, EULA)
- Создание сервиса с автосохранением каждые 10 минут
- Настройка SSH для управления сервером с ПК
- Быстрая установка всего одной командой

## Требования

- Android устройство
- [Termux](https://f-droid.org/packages/com.termux/) (устанавливать через F-Droid, не из Google Play)
- Подключение к Wi-Fi (для игры по локальной сети)

## Установка

Откройте Termux и выполните:

```bash
curl -sL https://raw.githubusercontent.com/FLEXIY0/MBSFT/main/install.sh -o install.sh && bash install.sh
```

> **Примечание:** `curl` предустановлен в Termux. Если по какой-то причине его нет:
> ```bash
> pkg install curl
> ```

### Альтернатива через wget

```bash
wget -O install.sh https://raw.githubusercontent.com/FLEXIY0/MBSFT/main/install.sh && bash install.sh
```

> `wget` также может потребовать установки: `pkg install wget`

## Использование

### Быстрый старт

1. Запустите скрипт
2. Выберите пункт **7 (Быстрая установка)** — он выполнит шаги 1-4 автоматически
3. После установки запускайте сервер:

```bash
cd ~/minecraft-server && ./start.sh
```

### Пошаговая установка

| Пункт | Действие |
|-------|----------|
| 1 | Установка зависимостей (Java 8, screen, wget) |
| 2 | Скачивание ядра (Project Poseidon) или ручная установка |
| 3 | Создание start.sh + первый запуск для генерации конфигов |
| 4 | Патч настроек: online-mode=false, EULA |
| 5 | Создание сервиса с автосохранением |
| 6 | Настройка SSH для управления с ПК |
| 7 | Быстрая установка (1-4 автоматически) |
| 8 | Показать статус, IP, порт |

### Управление сервисом

Если вы создали сервис (пункт 5):

```bash
sv up mcserver      # запустить
sv down mcserver    # остановить
screen -r mcserver  # открыть консоль сервера (выход: Ctrl+A, D)
```

### Подключение к серверу

1. Узнайте IP через пункт **8** в меню или командой:
   ```bash
   ip addr show wlan0 | grep 'inet '
   ```
2. В Minecraft Beta 1.7.3 → Multiplayer → Direct Connect:
   ```
   <ваш_IP>:25565
   ```
3. Телефон и компьютер должны быть в одной Wi-Fi сети

### SSH (управление с ПК)

После настройки SSH (пункт 6), подключайтесь с ПК:

```bash
ssh -p 8022 <user>@<IP>
```

## Ядра

По умолчанию скрипт скачивает **Project Poseidon** — стабильный сервер для Minecraft Beta 1.7.3 с исправлениями багов и поддержкой плагинов.

Можно использовать своё ядро — выберите пункт 2 и закиньте `server.jar` в папку `~/minecraft-server/`.

## Решение проблем

| Проблема | Решение |
|----------|---------|
| `Java not found` | Перезапустите Termux и выполните пункт 1 |
| Сервер не стартует | Проверьте что EULA принята: `cat ~/minecraft-server/eula.txt` |
| Не могу подключиться | Убедитесь что оба устройства в одной Wi-Fi сети |
| IP пустой | Wi-Fi не подключён или используется мобильные данные |
| Мало RAM | Используйте `512M` при создании start.sh |

## Лицензия

MIT
